
{% extends "layout.html" %}
{% block content %}
<div class="container d-flex my-2">
  <h1 class="fs-2 me-auto">Update book</h1>

  <span class="fs-2 mx-1">
    <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
      </svg>
    </button>
    <div class="dropdown-menu w-25">
      <form class="px-4 py-3" action="{{ url_for("books.list_books") }}">
        <div class="form-group">
          {{ search_form.title.label }}
          {{ search_form.title(class="form-control", autocomplete="off") }}
        </div>
        <div class="form-group">
          {{ search_form.author.label }}
          {{ search_form.author(class="form-control", autocomplete="off") }}
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
      </form>
    </div>
  </span>

  <a class="fs-2 mx-1" href="{{ url_for("books.create_book") }}">
    <button class="btn btn-primary">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
        <path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"/>
      </svg>
    </button>
  </a>
</div>

<hr />

<div class="container justify-elements-center mx-auto my-2 ">
  <h1 class="fs-3 me-auto">Book #{{ book.id }}</h1>
  <form class="row g-3" method="POST">
    {{ form.csrf_token }}
    <div class="form-group col-md-6 py-1">
      <b>{{ form.title.label(class="form-label") }}</b>
      {{ form.title(class="form-control") }}
    </div>
    <div class="form-group col-md-6 py-1">
      <b>{{ form.authors.label(class="form-label") }}</b>
      {{ form.authors(class="form-control", placeholder="Rumi/A.J. Arberry") }}
    </div>
    <div class="form-group col-md-6 py-1">
      <b>{{ form.publisher_name.label(class="form-label") }}</b>
      {{ form.publisher_name(class="form-control") }}
    </div>
    <div class="form-group col-md-6 py-1">
      <b>{{ form.publication_date.label(class="form-label") }}</b>
      {{ form.publication_date(class="form-control") }}
    </div>
    <div class="form-group col-md-3 py-1">
      <b>{{ form.isbn.label(class="form-label") }}</b>
      {{ form.isbn(class="form-control") }}
      <small>
        10 digit ISBN code
        (<a href="https://www.isbn.org/isbn_converter" target="_blank">https://www.isbn.org/isbn_converter</a>)
      </small>
    </div>
    <div class="form-group col-md-3 py-1">
      <b>{{ form.isbn13.label(class="form-label") }}</b>
      {{ form.isbn13(class="form-control") }}
      <small>
        13 digit ISBN code
        (<a href="https://www.isbn.org/isbn_converter" target="_blank">https://www.isbn.org/isbn_converter</a>)
      </small>
    </div>
    <div class="form-group col-md-3 py-1">
      <b>{{ form.language_code.label(class="form-label") }}</b>
      {{ form.language_code(class="form-control", placeholder="eng") }}
    </div>
    <div class="form-group col-md-3 py-1">
      <b>{{ form.num_pages.label("Pages", class="form-label") }}</b>
      {{ form.num_pages(class="form-control") }}
    </div>
    <div class="form-group col-md-6 py-1">
      <b>{{ form.total_stock.label("Stock", class="form-label") }}</b>
      {{ form.total_stock(class="form-control") }}
    </div>
    <div class="form-group col-md-6 py-1">
      <b>{{ form.rent_per_day.label("Rent", class="form-label") }}</b>
      {{ form.rent_per_day(class="form-control") }}
      <small>In Rs per day</small>
    </div>
    <div class="form-group col-md-4 py-1">
      <b>{{ form.average_rating.label(class="form-label") }}</b>
      {{ form.average_rating(class="form-control") }}
    </div>
    <div class="form-group col-md-4 py-1">
      <b>{{ form.ratings_count.label(class="form-label") }}</b>
      {{ form.ratings_count(class="form-control") }}
    </div>
    <div class="form-group col-md-4 py-1">
      <b>{{ form.text_reviews_count.label(class="form-label") }}</b>
      {{ form.text_reviews_count(class="form-control") }}
    </div>
    <button class="btn btn-primary" type="submit">Save</button>
  </form>
</div>

{% endblock %}

{% block js %}
    <script>
      $('.alert').alert();
    </script>
{% endblock %}
